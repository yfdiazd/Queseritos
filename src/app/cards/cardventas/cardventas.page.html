<ion-router-outlet main></ion-router-outlet>
<ion-header>
  <ion-toolbar>
    <ion-title class="titulo">DETALLE VENTAS</ion-title>
    <ion-buttons slot="start">
      <ion-back-button defaultHref="/main-menu" color="success"></ion-back-button>
    </ion-buttons>
    <ion-button fill="clear" shape="round" slot="end" (click)="irVender()">
      <ion-icon name="bus" color= "success"></ion-icon>
    </ion-button>
  </ion-toolbar>
</ion-header>

<ion-content>
  <ion-refresher slot="fixed" (ionRefresh)="doRefresh($event)">
    <ion-refresher-content style="background-color: transparent;" pullingIcon="chevron-down-circle-outline"
      pullingText="Arrastra para actualizar" refreshingSpinner="circles" refreshingText="Actualizando...">
    </ion-refresher-content>
  </ion-refresher>
  <div class="div-principal">
    <ion-title class="title">{{nombreCliente}}</ion-title>
    <div>
      <ion-item>
        <ion-label>Selecciona el año</ion-label>
        <ion-datetime [pickerOptions]="customPickerOptions"  displayFormat="YYYY MMMM" min="2020" max="2100"  [(ngModel)]="fechafiltro" ></ion-datetime>
      </ion-item>
    </div>
  </div>
  <div class="div-secundario">
    <div class ="ventasmes" *ngIf="show">
    <ion-item-sliding class="slider" *ngFor="let card of FB.ventasclienteListaMes"> 
    <ion-item class="item" >
      <div class="div-card">
        <ion-card class="card">
          <div class="div_info">
            <div class="div_fila_1">
              <p><span>Ciudad: </span><span class="ciudad">{{card.ciudad}}</span></p>
              <p><span>Fecha envio:</span> {{card.fechaEnvio}}</p>
            </div>
            <div class="div_fila_2">
              <div class="div_fila_2_part_left">
                <p class="p"><span>Peso total:</span> {{card.pesoEnviado}} </p>
                <!-- <p class="p"><span>Pesadas:</span> {{card.totalPesada}}</p> -->
              </div>
              <div class="div_fila_2_part_right">
                <ion-button class="btn_modal" (click)="modalConfirmarPesada(card)" fill="outline" expand="full"
                  shape="round">
                  <ion-icon class="icon" name="bar-chart" color="tertiary"></ion-icon>
                </ion-button>
              </div>
            </div>
          </div>
          <div class="div_tabla">
            <table class="table">
              <thead class="thead">
                <th class="th1">Pesada</th>
                <th class="th2">Queso</th>
                <th class="th3">Estado</th>
                <th class="th4">Peso (Kg)</th>
                <th class="th5">Valor</th>
                <th class="th6">Total</th>
              </thead>
              <!-- <tbody class="tbody">
                <tr class="tr" *ngFor="let lista of bultoPesada ,let i=index">
                  <td class="td1">
                    <label (ngModel)="numpesada">{{i+1}}</label>
                  </td>
                  <td class="td2">
                    <label (ngModel)="queso">{{queso}}</label>
                  </td>
                  <td class="td3">
                    <label (ngModel)="estado">{{estado}}</label>
                  </td>
                  <td class="td4">
                    <label (ngModel)="peso">{{peso}}</label>
                  </td>
                  <td class="td5">
                    <label (ngModel)="valor">{{valor}} <span>Kg</span></label>
                  </td>
                  <td class="td6">
                    <label (ngModel)="total">{{total}} </label>
                  </td>
                </tr>
              </tbody> -->
            </table>
          </div>
        </ion-card>
      </div>
    </ion-item>
    <!-- opción para eliminar registro -->
    <ion-item-options side="end">
      <ion-item-option color="danger" (click)="eliminarRegistro(card)">Eliminar</ion-item-option>
    </ion-item-options>
    <!-- Opción para editar el registro -->
    <ion-item-options side="start">
      <ion-item-option color="warning" (click)="alertEditar(lista)">Editar</ion-item-option>
    </ion-item-options>
     </ion-item-sliding> 
  </div>
  <div class ="ventasmes" *ngIf="hiden">
    <ion-item-sliding class="slider" *ngFor="let card of listaFiltrada">
    <ion-item class="item" >
      <div class="div-card">
        <ion-card class="card">
          <div class="div_info">
            <div class="div_fila_1">
              <p><span>Ciudad: </span><span class="ciudad">{{card.ciudad}}</span></p>
              <p><span>Fecha envio:</span> {{card.fechaEnvio}}</p>
            </div>
            <div class="div_fila_2">
              <div class="div_fila_2_part_left">
                <p class="p"><span>Peso total:</span> {{card.pesoEnviado}} </p>
                <!-- <p class="p"><span>Pesadas:</span> {{card.totalPesada}}</p> -->
              </div>
              <div class="div_fila_2_part_right">
                <ion-button class="btn_modal" (click)="modalConfirmarPesada(card)" fill="outline" expand="full"
                  shape="round">
                  <ion-icon class="icon" name="bar-chart" color="tertiary"></ion-icon>
                </ion-button>
              </div>
            </div>
          </div>
          <div class="div_tabla">
            <table class="table">
              <thead class="thead">
                <th class="th1">Pesada</th>
                <th class="th2">Queso</th>
                <th class="th3">Estado</th>
                <th class="th4">Peso</th>
                <th class="th5">Valor</th>
                <th class="th6">Total</th>
              </thead>
              <!-- <tbody class="tbody">
                <tr class="tr" *ngFor="let lista of bultoPesada ,let i=index">
                  <td class="td1">
                    <label (ngModel)="numpesada">{{i+1}}</label>
                  </td>
                  <td class="td2">
                    <label (ngModel)="queso">{{queso}}</label>
                  </td>
                  <td class="td3">
                    <label (ngModel)="estado">{{estado}}</label>
                  </td>
                  <td class="td4">
                    <label (ngModel)="peso">{{peso}}</label>
                  </td>
                  <td class="td5">
                    <label (ngModel)="valor">{{valor}} <span>Kg</span></label>
                  </td>
                  <td class="td6">
                    <label (ngModel)="total">{{total}} </label>
                  </td>
                </tr>
              </tbody> -->
            </table>
          </div>
        </ion-card>
      </div>
    </ion-item>
    <!-- opción para eliminar registro -->
    <ion-item-options side="end">
      <ion-item-option color="danger" (click)="eliminarRegistro(card)">Eliminar</ion-item-option>
    </ion-item-options>
    <!-- Opción para editar el registro -->
    <ion-item-options side="start">
      <ion-item-option color="warning" (click)="alertEditar(lista)">Editar</ion-item-option>
    </ion-item-options>
     </ion-item-sliding> 
  </div>
</div>
</ion-content>

<ion-footer>
  <ion-toolbar>
    <ion-tabs class="">
      <ion-tab-bar slot="bottom">
        <ion-tab-button (click)="irInicio()">
          <ion-icon name="home"></ion-icon>
          <ion-label>Inicio</ion-label>
        </ion-tab-button>

        <ion-tab-button (click)="irCompras()">
          <ion-icon name="cart"></ion-icon>
          <ion-label>Compras</ion-label>
        </ion-tab-button>

        <ion-tab-button (click)="irEstado()">
          <ion-icon name="podium"></ion-icon>
          <ion-label>Estado</ion-label>
        </ion-tab-button>
      </ion-tab-bar>
    </ion-tabs>
  </ion-toolbar>
</ion-footer>